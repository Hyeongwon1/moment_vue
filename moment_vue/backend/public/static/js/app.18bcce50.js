(function(e){function t(t){for(var a,o,s=t[0],c=t[1],l=t[2],u=0,d=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);h&&h(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var s=n[o];0!==i[s]&&(a=!1)}a&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},o={app:0},i={app:0},r=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-530700f9":"286b979d","chunk-7eedf7c7":"038b59ca","chunk-317522be":"830d223e","chunk-3b6e5e0e":"a60042c9","chunk-6fba3912":"a5a70b37","chunk-3739479e":"e5337024","chunk-9b29b13a":"0cf1b652","chunk-88ddc8c0":"02537cab"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-530700f9":1,"chunk-7eedf7c7":1,"chunk-317522be":1,"chunk-3b6e5e0e":1,"chunk-6fba3912":1,"chunk-3739479e":1,"chunk-9b29b13a":1,"chunk-88ddc8c0":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-530700f9":"97e25cec","chunk-7eedf7c7":"8305664c","chunk-317522be":"3715e4a6","chunk-3b6e5e0e":"b583770a","chunk-6fba3912":"1bc2314f","chunk-3739479e":"7aa5a168","chunk-9b29b13a":"07476793","chunk-88ddc8c0":"7d9b2f87"}[e]+".css",i=c.p+a,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var l=r[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===i))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){l=d[s],u=l.getAttribute("data-href");if(u===a||u===i)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var a=t&&t.target&&t.target.src||i,r=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete o[e],h.parentNode.removeChild(h),n(r)},h.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(h)})).then((function(){o[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,n){a=i[e]=[t,n]}));t.push(a[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(h);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",d.name="ChunkLoadError",d.type=a,d.request=o,n[1](d)}i[e]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var h=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app",[n("router-view")],1)],1)},i=[],r={created:function(){},data:function(){return{datas:[]}},components:{},methods:{}},s=r,c=n("2877"),l=n("6544"),u=n.n(l),d=n("7496"),h=Object(c["a"])(s,o,i,!1,null,null,null),m=h.exports;u()(h,{VApp:d["a"]});n("d3b7");var f=n("8c4f"),p=n("2f62"),v=(n("a15b"),n("a7fe")),g=n.n(v),b=n("ba38"),k=n("bc3a"),_=n.n(k),y=n("e0b1");a["a"].use(g.a,_.a);var w=new b["a"](a["a"].prototype.$http,{baseUrl:"http://localhost:3000",tokenName:"access_token",requestDataKey:"data",responseDataKey:"data",providers:{google:{clientId:y.auth.google.clientId,redirectUri:"http://127.0.0.1:8000/auth/callback"}},bindRequestInterceptor:function(){var e=this;this.$http.interceptors.request.use((function(t){return e.isAuthenticated()?t.headers["Authorization"]=[e.options.tokenType,e.getToken()].join(" "):delete t.headers["Authorization"],t}))},bindResponseInterceptor:function(){var e=this;this.$http.interceptors.response.use((function(t){return console.log("resp12312312312321onse"),console.log(t),e.setToken(t),t}))}}),A=w;a["a"].use(f["a"],p["a"]);var x=[{path:"/home",name:"home",component:function(){return Promise.all([n.e("chunk-7eedf7c7"),n.e("chunk-9b29b13a")]).then(n.bind(null,"bb51"))},meta:{title:"home"}},{path:"/upload",name:"Upload",component:function(){return Promise.all([n.e("chunk-7eedf7c7"),n.e("chunk-317522be"),n.e("chunk-6fba3912")]).then(n.bind(null,"3d8f"))},meta:{auth:!0,title:"Login to existing account"}},{path:"/detail",name:"Detail",component:function(){return n.e("chunk-88ddc8c0").then(n.bind(null,"6ab7"))},meta:{auth:!0,title:"Detail"}},{path:"/login",name:"Login",component:function(){return Promise.all([n.e("chunk-7eedf7c7"),n.e("chunk-317522be"),n.e("chunk-3b6e5e0e")]).then(n.bind(null,"ede4"))},meta:{auth:!1,title:"Login"}},{path:"/mypage",name:"MyPage",component:function(){return Promise.all([n.e("chunk-7eedf7c7"),n.e("chunk-3739479e")]).then(n.bind(null,"ecc3"))},meta:{auth:!0,title:"My profile"}},{path:"/pupp1",name:"PuppTest",component:function(){return n.e("chunk-530700f9").then(n.bind(null,"3ae0"))}}],$=new f["a"]({mode:"history",base:"/",routes:x});$.beforeEach((function(e,t,n){e.meta&&e.meta.title&&(document.title=e.meta.title),e.meta&&void 0!==e.meta.auth?e.meta.auth?A.isAuthenticated()?n():$.push({name:"Login"}):A.isAuthenticated()?($.push({name:"home"}),alert("로그인이 필요합니다.")):n():n()}));var E=$,L={state:{profile:null,isAuthenticated:A.isAuthenticated()},mutations:{isAuthenticated:function(e,t){e.isAuthenticated=t.isAuthenticated},setProfile:function(e,t){e.profile=t.profile}},actions:{login:function(e,t){return t=t||{},A.login(t.user,t.requestOptions).then((function(){e.commit("isAuthenticated",{isAuthenticated:A.isAuthenticated()})}))},register:function(e,t){return t=t||{},A.register(t.user,t.requestOptions).then((function(){e.commit("isAuthenticated",{isAuthenticated:A.isAuthenticated()})}))},logout:function(e,t){return t=t||{},A.logout(t.requestOptions).then((function(){e.commit("isAuthenticated",{isAuthenticated:A.isAuthenticated()}),alert("로그아웃")}))},authenticate:function(e,t){return t=t||{},A.authenticate(t.provider,t.userData,t.requestOptions).then((function(){e.commit("isAuthenticated",{isAuthenticated:A.isAuthenticated()})}))}}};a["a"].use(p["a"]),a["a"].use(g.a,_.a);var T={state:{host:"http://localhost:3000/moment",token:"",id_mail:""},getters:{},mutations:{loginToken:function(e,t){e.token=t,localStorage.accessToken=e.token},logout:function(e){e.token&&(e.token="",_.a.defaults.headers.common["Authorization"]=void 0,alert("로그아웃"))},loginCheck:function(e){console.log("state"),console.log(e.token),_.a.get("".concat(e.host,"/users/loginCheck")).then((function(t){console.log("sdaasdasd탄겨?"),console.log(t),e.id_mail=t.data.token.id_mail})).catch((function(e){console.log(e.response),console.log("로그인정보가 없음")}))}},actions:{}};a["a"].use(p["a"]);var I=new p["a"].Store({modules:{socialauth:L,localauth:T}}),O=I,S=n("415c"),P=n.n(S),V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-bottom-navigation",{attrs:{value:e.activeBtn,fixed:"",color:"pink",grow:""}},e._l(e.bitems,(function(t){return n("v-btn",{key:t.id,attrs:{text:""},on:{click:function(n){return e.nav(t.id)}}},[n("span",[e._v(e._s(t.name))]),n("v-icon",[e._v(e._s(t.icon))])],1)})),1)],1)},C=[],N={name:"bottom",data:function(){return{activeBtn:1,id:"",bitems:[{name:"Home",id:0,icon:"home"},{name:"Favorites",id:1,icon:"favorite"},{name:"Image Up",id:2,icon:"image"},{name:"search",id:3,icon:"search"},{name:"mypage",id:4,icon:"perm_identity"}]}},components:{},methods:{nav:function(e){switch(this.id=e,this.id){case 0:return this.$router.push({path:"home"});case 1:return"";case 2:return this.$router.push({path:"upload"});case 3:return""}},home:function(){this.$router.push({path:"home"})},favorites:function(){},myupload:function(){this.$router.push({path:"upload"})},myrecorcd:function(){var e=this,t=sessionStorage.m_email;console.log(t),this.$axios.post("/moment/myrecord_selectdb",{m_email:t}).then((function(t){e.datas=t.data}),(function(){console.log("failed")}))},mypage:function(){var e=sessionStorage.m_no,t=sessionStorage.m_no;this.$router.push({path:"mypage",query:{m_no:t,s_no:e}})}}},j=N,D=n("b81c"),F=n("8336"),q=n("132d"),B=Object(c["a"])(j,V,C,!1,null,"db2cf39e",null),U=B.exports;u()(B,{VBottomNavigation:D["a"],VBtn:F["a"],VIcon:q["a"]});var M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{app:"",dense:""}},[n("v-app-bar-nav-icon",{staticClass:"hidden-md-and-up",on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("div",{staticClass:"pa-1"}),n("router-link",{attrs:{to:"/home"}},[n("v-toolbar-title",{staticClass:"head_moment"},[e._v(e._s(e.title))])],1),n("div",{staticClass:"pa-12"}),n("v-tabs",{attrs:{"slider-color":"pink"},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.items,(function(t){return n("v-tab",{key:t.id,staticClass:"hidden-sm-and-down",on:{click:function(n){return e.initt(t.id)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[e._v(e._s(t.name))])})),1),n("v-btn",{staticStyle:{"margin-left":"-320px"},attrs:{text:""},on:{click:e.ordnwlk}},[e._v(e._s(e.newandlike))]),n("v-text-field",{staticStyle:{"max-width":"210px"},attrs:{flat:"",placeholder:"search location","hide-details":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter(t)}},model:{value:e.searchloc,callback:function(t){e.searchloc=t},expression:"searchloc"}}),n("v-btn",{staticStyle:{"margin-right":"-15px"},attrs:{text:""},on:{click:e.onEnter}},[n("v-icon",[e._v("search")])],1),n("v-btn",{staticClass:"hidden-sm-and-down",attrs:{text:""},on:{click:function(t){return e.login("99")}}},[e._v(e._s(e.loginout))])],1),n("v-navigation-drawer",{attrs:{fixed:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list-item",[n("v-list-item-avatar"),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(e.id_mail))])],1)],1),n("v-list",{attrs:{dense:""}},[n("v-list-item-content",e._l(e.titles,(function(t){return n("v-list-item",{key:t.id,on:{click:function(n){return e.login(t.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.name))])],1)],1)})),1)],1),n("v-divider"),n("v-list",{attrs:{dense:""}},[n("v-list-item-group",{attrs:{"active-class":"border",color:"pink"},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.items,(function(t){return n("v-list-item",{key:t.id,on:{click:function(n){return e.initt(t.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.name))])],1)],1)})),1)],1)],1)],1)},R=[],K=(n("b0c0"),{name:"top",created:function(){var e=this.$store.state.socialauth.isAuthenticated;0!=e?(this.loginout="logout",this.titles[0].name="Logout",this.id_mail=this.$store.state.socialauth.profile):(this.loginout="login",this.titles[0].name="Login",this.id_mail="")},data:function(){return{drawer:!1,searchloc:"",ord:"lk",newandlike:"LIKE ▼",title:"IN THE MOMENT",loginout:"Login",id_mail:"",model:1,items:[{name:"ALL",id:"0",icon:"dashboard"},{name:"EAT",id:"1",icon:"restaurant_menu"},{name:"BUY",id:"2",icon:"money"},{name:"ENJOY",id:"3",icon:"map"}],titles:[{name:"",id:"99",icon:"dashboard"},{name:"PUPP",id:"88",icon:"dashboard"}]}},computed:{},props:{},watch:{},components:{},methods:{login:function(e,t){var n=this;0!=this.$store.state.socialauth.isAuthenticated?this.$store.dispatch("logout",{authFlag:t}).then((function(e){console.log(e),n.$router.push("home")})):"99"===e?this.$router.push({path:"login"}):this.$router.push({path:"pupp1"})},initt:function(e){this.$emit("aaarr",e)},onEnter:function(){this.$emit("searchloc",this.searchloc)},ordnwlk:function(){this.$emit("ord",this.ord),"NEW ▼"===this.newandlike?(this.newandlike="LIKE ▼",this.ord="nw"):(this.ord="lk",this.newandlike="NEW ▼")}}}),z=K,J=(n("d368"),n("40dc")),H=n("5bc1"),W=n("ce7e"),Y=n("8860"),G=n("da13"),Q=n("8270"),X=n("5d23"),Z=n("1baa"),ee=n("34c3"),te=n("f774"),ne=n("71a3"),ae=n("fe57"),oe=n("8654"),ie=n("2a7f"),re=Object(c["a"])(z,M,R,!1,null,null,null),se=re.exports;u()(re,{VAppBar:J["a"],VAppBarNavIcon:H["a"],VBtn:F["a"],VDivider:W["a"],VIcon:q["a"],VList:Y["a"],VListItem:G["a"],VListItemAvatar:Q["a"],VListItemContent:X["a"],VListItemGroup:Z["a"],VListItemIcon:ee["a"],VListItemTitle:X["b"],VNavigationDrawer:te["a"],VTab:ne["a"],VTabs:ae["a"],VTextField:oe["a"],VToolbarTitle:ie["a"]});var ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-card",{staticClass:"d-flex",attrs:{flat:"",tile:""}},[n("img",{staticClass:"grey lighten-2",attrs:{src:e.sel.img,value:e.sel.no,height:"250px","aspect-ratio":"1"},on:{click:e.picview}})])],1)},le=[],ue=(n("4160"),n("fb6a"),n("159b"),{data:function(){return{imageData:"",imageFiles:[],sel_file:[],sel_aaa:"",customImageMaxSize:3}},components:{},methods:{sendPost:function(){var e=new FormData;e.append("image",this.imageFiles[0]),e.append("m_no",sessionStorage.m_no),e.append("d_title",this.d_title),e.append("d_kind",this.d_kind),e.append("d_location",this.d_location),e.append("d_content",this.d_content),e.append("d_star",this.d_star);var t={headers:{"content-type":"multipart/form-data"}};console.log(e),this.$axios.post("/moment/uploaddb",e,t).then((function(e){e.data.err?alert(e.data.err.code):location.href="/home"}),(function(){console.log("failed")}))},handleAddress:function(e){var t=e.address,n="";"R"===e.addressType&&(""!==e.bname&&(n+=e.bname),""!==e.buildingName&&(n+=""!==n?", ".concat(e.buildingName):e.buildingName),t+=""!==n?" (".concat(n,")"):""),console.log(t),this.d_location=t,t&&this.$refs.modalclose.click()},onSelectFile3:function(e){var t=this;this.imageFiles=e.target.files;var n=e.target;console.log(n.files.length);var a=Array.prototype.slice.call(this.imageFiles);a.forEach((function(e){console.log(e),t.sel_file.push(e);var a=new FileReader;a.onload=function(e){t.sel_file.push({data:e.target.result,no:1}),console.log(t.sel_file[0].data)},a.readAsDataURL(n.files[0])}))},onSelectFile:function(e){var t=this;this.imageFiles=e.target.files;var n=e.target;if(console.log(n.files.length),console.log(this.sel_file.length),n.files&&n.files[0]){var a=new FileReader;a.onload=function(e){t.sel_file.push({no:t.sel_file.length,img:e.target.result})},a.readAsDataURL(n.files[0])}},onSelectFile2:function(e){var t=this;this.imageFiles=e.target.files;var n=e.target;if(console.log(n.files.length),n.files&&n.files[0]){var a=new FileReader;a.onload=function(e){t.imageData=e.target.result,console.log(t.imageData)},a.readAsDataURL(n.files[0])}},chooseImage:function(){this.$refs.fileInput.click()},fnhome:function(){location.href="/home"}}}),de=ue,he=(n("987b"),n("b0af")),me=Object(c["a"])(de,ce,le,!1,null,null,null),fe=me.exports;u()(me,{VCard:he["a"]});var pe=n("f309");a["a"].use(pe["a"]);var ve={},ge=new pe["a"](ve);n("d1e78");a["a"].config.productionTip=!1;var be={name:"lodash"};a["a"].use(P.a,be),a["a"].use(ge),a["a"].prototype.$axios=_.a,a["a"].use(g.a,_.a),a["a"].component("navtop",se),a["a"].component("navbottom",U),a["a"].component("addimg",fe),new a["a"]({vuetify:ge,store:O,router:E,components:{App:m},render:function(e){return e(m)}}).$mount("#app")},"987b":function(e,t,n){"use strict";var a=n("cba4"),o=n.n(a);o.a},cba4:function(e,t,n){},d368:function(e,t,n){"use strict";var a=n("de45"),o=n.n(a);o.a},de45:function(e,t,n){},e0b1:function(e){e.exports=JSON.parse('{"auth":{"google":{"clientId":"700588972202-4g2irf3snvncivm58jsk3bp0f7kku2uo.apps.googleusercontent.com","clientSecret":"09Dqnoqt8I8gl4wqT9fyQ7ls"}}}')}});
//# sourceMappingURL=app.18bcce50.js.map